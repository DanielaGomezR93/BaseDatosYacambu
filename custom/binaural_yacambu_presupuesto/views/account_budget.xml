<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_yacambu_inherit_account_budget_crossovered_budget_line_pivot" model="ir.ui.view">
            <field name="name">yacambu.inherit.account.budget.crossovered.budget.line.view.pivot</field>
            <field name="model">crossovered.budget.lines</field>
            <field name="inherit_id" ref="account_budget.view_crossovered_budget_line_pivot"/>
            <field name="arch" type="xml">
		<field name="theoritical_amount" position="after">
		    <field name="variation" type="measure" string="Variación"/>
		    <field name="variation_percentage" type="measure" string="% de variación" widget="percentage"/>
		    <field name="available_amount" type="measure" string="Disponible"/>
	        </field>
            </field>
        </record>

        <record id="view_yacambu_inherit_account_budget_crossovered_budget_form" model="ir.ui.view">
            <field name="name">yacambu.inherit.account.budget.crossovered.budget.view.form</field>
            <field name="model">crossovered.budget</field>
            <field name="inherit_id" ref="account_budget.crossovered_budget_view_form"/>
            <field name="arch" type="xml">
		<header>
		    <button name="action_transfer_wizard"
			    string="Transferir"
			    type="object"
			    class="oe_highlight"
			    attrs="{'invisible': [('state', 'not in', ('confirm', 'validate'))]}"/>
	        </header>
		<button name="action_budget_draft" position="replace">
		    <button string="Restablecer a Borrador" name="action_budget_draft" type="object"
			    attrs="{'invisible': ['|', ('has_been_transfered', '=', True),
			    			       ('state', '!=', 'cancel')]}"/>
		</button>
		<field name="user_id" position="after">
		    <field name="has_been_transfered" invisible="1"/>
		    <field name="available_amount"/>
		</field>
            </field>
        </record>
    </data>
</odoo>
