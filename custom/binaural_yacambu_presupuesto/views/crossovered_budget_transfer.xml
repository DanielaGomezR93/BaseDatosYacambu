<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
	<record id="view_crossovered_budget_transfer_search" model="ir.ui.view">
	    <field name="name">crossovered.budget.transfer.search</field>
	    <field name="model">crossovered.budget.transfer</field>
	    <field name="arch" type="xml">
		<search string="Transferencias de Presupuesto">
		    <filter string="Fecha de solicitud" name="filter_date" date="date"/>
		    <group expand="0" string="Agrupar por">
			<filter name="group_date" string="Fecha" domain="[]" context="{'group_by':'date'}"/>
		    </group>
		</search>
	    </field>
	</record>

	<record id="view_crossovered_budget_transfer_tree" model="ir.ui.view">
	    <field name="name">crossovered.budget.transfer.tree</field>
	    <field name="model">crossovered.budget.transfer</field>
	    <field name="arch" type="xml">
		<tree create="false" edit="false">
		    <field name="name"/>
		    <field name="date"/>
		    <field name="user_id"/>
		    <field name="cancelled_budget_id"/>
		    <field name="new_origin_budget_id"/>
		    <field name="destination_budget_id"/>
		    <field name="origin_available_amount"/>
		    <field name="amount_to_be_transfered"/>
		    <field name="destination_available_amount"/>
		    <field name="updated_amount"/>
		</tree>
	    </field>
	</record>

	<record id="view_crossovered_budget_transfer_form" model="ir.ui.view">
	    <field name="name">crossovered.budget.transfer.form</field>
	    <field name="model">crossovered.budget.transfer</field>
	    <field name="arch" type="xml">
		<form create="false" edit="false">
		    <header>
		    </header>
		    <sheet>
			<div class="oe_title">
			    <label for="name" class="oe_edit_only"/>
			    <h1>
				<field name="name"/>
			    </h1>
			</div>
			<group>
			    <group>
		    		<field name="date"/>
				<field name="user_id"/>
				<field name="cancelled_budget_id"/>
				<field name="new_origin_budget_id"/>
				<field name="origin_available_amount"/>
			    </group>
			    <group>
				<field name="destination_budget_id"/>
		    		<field name="amount_to_be_transfered"/>
		    		<field name="destination_available_amount"/>
		    		<field name="updated_amount"/>
			    </group>
			</group>
			<notebook>
			    <page name="transfer_lines" string="Líneas de transferencia">
				<field name="line_ids">
				    <tree string="Líneas de transferencia">
					<field name="origin_general_budget_id"/>
					<field name="destination_general_budget_id"/>
					<field name="origin_analytic_account_id"/>
					<field name="destination_analytic_account_id"/>
					<field name="transfered_amount"/>
				    </tree>
				</field>
			    </page>
			</notebook>
		    </sheet>
		</form>
	    </field>
	</record>

	<record id="act_crossovered_budget_transfer_view" model="ir.actions.act_window">
	    <field name="name">Transferencias de Presupuesto</field>
	    <field name="res_model">crossovered.budget.transfer</field>
	    <field name="view_mode">tree,form</field>
	</record>

	<menuitem parent="account.account_reports_management_menu"
		  id="menu_act_crossovered_budget_transfer"
		  action="act_crossovered_budget_transfer_view" sequence="21"
		  groups="account.group_account_readonly"/>

    </data>
</odoo>
